<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MediaBox AI Dashboard</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #0a1929, #1a237e, #0d47a1);
      min-height: 100vh;
      color: #fff;
      overflow: hidden;
    }

    .container {
      display: flex;
      height: 100vh;
      width: 100vw;
    }

    /* Side Navigation */
    .sidenav {
      width: 280px;
      background: rgba(10, 25, 41, 0.95);
      backdrop-filter: blur(20px);
      border-right: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      flex-direction: column;
      padding: 30px 0;
      box-shadow: 4px 0 20px rgba(0, 0, 0, 0.3);
    }

    .logo {
      text-align: center;
      padding: 0 20px 30px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      margin-bottom: 20px;
    }

    .logo h1 {
      font-size: 28px;
      font-weight: 700;
      background: linear-gradient(135deg, #42a5f5, #1e88e5);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .logo p {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.6);
      margin-top: 5px;
    }

    .nav-menu {
      flex: 1;
      overflow-y: auto;
      padding: 10px;
    }

    .nav-item {
      display: flex;
      align-items: center;
      padding: 16px 20px;
      margin: 5px 0;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      color: rgba(255, 255, 255, 0.7);
      font-weight: 500;
      font-size: 15px;
    }

    .nav-item:hover {
      background: rgba(66, 165, 245, 0.1);
      color: #fff;
      transform: translateX(5px);
    }

    .nav-item.active {
      background: linear-gradient(135deg, #1e88e5, #1565c0);
      color: #fff;
      box-shadow: 0 4px 15px rgba(30, 136, 229, 0.4);
    }

    .nav-icon {
      font-size: 22px;
      margin-right: 15px;
      width: 30px;
      text-align: center;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      overflow-y: auto;
      padding: 40px 50px;
    }

    .page-header {
      margin-bottom: 40px;
    }

    .page-header h2 {
      font-size: 36px;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .page-header p {
      font-size: 16px;
      color: rgba(255, 255, 255, 0.7);
    }

    .content-section {
      display: none;
    }

    .content-section.active {
      display: block;
      animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Service Cards Grid */
    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .service-card {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 30px 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .service-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(66, 165, 245, 0.2), rgba(30, 136, 229, 0.2));
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .service-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 30px rgba(30, 136, 229, 0.3);
      border-color: rgba(66, 165, 245, 0.5);
    }

    .service-card:hover::before {
      opacity: 1;
    }

    .service-icon {
      font-size: 48px;
      margin-bottom: 15px;
      position: relative;
      z-index: 1;
    }

    .service-card img {
      width: 60px;
      height: 60px;
      margin-bottom: 15px;
      position: relative;
      z-index: 1;
      filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3));
    }

    .service-name {
      font-size: 15px;
      font-weight: 600;
      position: relative;
      z-index: 1;
      color: #fff;
    }

    /* Controls Section */
    .controls-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 25px;
      margin-bottom: 30px;
    }

    .control-card {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 25px;
    }

    .control-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
    }

    .control-title-icon {
      font-size: 22px;
      margin-right: 10px;
    }

    .slider-control {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
    }

    .slider-control button {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: #fff;
      width: 40px;
      height: 40px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 18px;
      transition: all 0.2s ease;
    }

    .slider-control button:hover {
      background: rgba(66, 165, 245, 0.3);
      border-color: #42a5f5;
    }

    .slider {
      flex: 1;
      height: 8px;
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.1);
      outline: none;
      -webkit-appearance: none;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: linear-gradient(135deg, #42a5f5, #1e88e5);
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(30, 136, 229, 0.5);
    }

    .slider::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: linear-gradient(135deg, #42a5f5, #1e88e5);
      cursor: pointer;
      border: none;
      box-shadow: 0 2px 8px rgba(30, 136, 229, 0.5);
    }

    .slider-value {
      font-size: 16px;
      font-weight: 600;
      min-width: 60px;
      text-align: center;
    }

    /* Button Groups */
    .button-group {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 15px;
    }

    .btn {
      padding: 12px 24px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      color: #fff;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.3s ease;
      font-family: 'Inter', sans-serif;
    }

    .btn:hover {
      background: linear-gradient(135deg, #1e88e5, #1565c0);
      border-color: #1e88e5;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(30, 136, 229, 0.4);
    }

    .btn-primary {
      background: linear-gradient(135deg, #1e88e5, #1565c0);
      border-color: #1e88e5;
    }

    .btn-danger {
      background: rgba(229, 57, 53, 0.2);
      border-color: rgba(229, 57, 53, 0.5);
    }

    .btn-danger:hover {
      background: linear-gradient(135deg, #e53935, #c62828);
      border-color: #e53935;
    }

    /* Settings Section */
    .settings-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .setting-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .setting-label {
      font-size: 15px;
      font-weight: 500;
    }

    .setting-description {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.6);
      margin-top: 5px;
    }

    /* Toggle Switch */
    .toggle-switch {
      position: relative;
      width: 56px;
      height: 28px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 14px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .toggle-switch.active {
      background: linear-gradient(135deg, #1e88e5, #1565c0);
    }

    .toggle-switch::after {
      content: '';
      position: absolute;
      width: 22px;
      height: 22px;
      background: #fff;
      border-radius: 50%;
      top: 3px;
      left: 3px;
      transition: transform 0.3s ease;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .toggle-switch.active::after {
      transform: translateX(28px);
    }

    /* Theme Selector */
    .theme-selector {
      display: flex;
      gap: 15px;
      margin-top: 15px;
    }

    .theme-option {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      cursor: pointer;
      border: 3px solid transparent;
      transition: all 0.3s ease;
      position: relative;
    }

    .theme-option:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .theme-option.active {
      border-color: #42a5f5;
      box-shadow: 0 0 0 2px rgba(66, 165, 245, 0.3);
    }

    .theme-blue {
      background: linear-gradient(135deg, #1a237e, #1565c0);
    }

    .theme-black {
      background: linear-gradient(135deg, #000000, #2d2d2d);
    }

    .theme-grey {
      background: linear-gradient(135deg, #1c1c1c, #505050);
    }

    .theme-purple {
      background: linear-gradient(135deg, #2d1b69, #7209b7);
    }

    .theme-teal {
      background: linear-gradient(135deg, #006666, #20b2aa);
    }

    /* Status Indicators */
    .status-bar {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .status-card {
      flex: 1;
      min-width: 200px;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .status-icon {
      font-size: 36px;
    }

    .status-info h3 {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.6);
      margin-bottom: 5px;
    }

    .status-info p {
      font-size: 20px;
      font-weight: 600;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .sidenav {
        width: 80px;
      }

      .nav-item span {
        display: none;
      }

      .logo h1 {
        font-size: 20px;
      }

      .logo p {
        display: none;
      }

      .main-content {
        padding: 20px;
      }

      .services-grid {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 15px;
      }

      .controls-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.05);
    }

    ::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, 0.3);
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Side Navigation -->
    <nav class="sidenav">
      <div class="logo">
        <h1>MediaBox</h1>
        <p>AI Dashboard</p>
      </div>

      <div class="nav-menu">
        <div class="nav-item active" onclick="showSection('home')">
          <span class="nav-icon">üè†</span>
          <span>Home</span>
        </div>
        <div class="nav-item" onclick="showSection('movies')">
          <span class="nav-icon">üé¨</span>
          <span>Movies & TV</span>
        </div>
        <div class="nav-item" onclick="showSection('music')">
          <span class="nav-icon">üéµ</span>
          <span>Music</span>
        </div>
        <div class="nav-item" onclick="showSection('smarthome')">
          <span class="nav-icon">üè°</span>
          <span>Smart Home</span>
        </div>
        <div class="nav-item" onclick="showSection('apps')">
          <span class="nav-icon">üì±</span>
          <span>Apps</span>
        </div>
        <div class="nav-item" onclick="showSection('system')">
          <span class="nav-icon">‚öôÔ∏è</span>
          <span>System</span>
        </div>
        <div class="nav-item" onclick="showSection('settings')">
          <span class="nav-icon">üîß</span>
          <span>Settings</span>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Home Section -->
      <div id="home" class="content-section active">
        <div class="page-header">
          <h2>Welcome to MediaBox</h2>
          <p>Your centralized entertainment and smart home control center</p>
        </div>

        <div class="status-bar">
          <div class="status-card">
            <div class="status-icon">üîä</div>
            <div class="status-info">
              <h3>Volume</h3>
              <p id="homeVolume">50%</p>
            </div>
          </div>
          <div class="status-card">
            <div class="status-icon">üí°</div>
            <div class="status-info">
              <h3>Lighting</h3>
              <p id="homeLighting">75%</p>
            </div>
          </div>
          <div class="status-card">
            <div class="status-icon">üì°</div>
            <div class="status-info">
              <h3>Status</h3>
              <p>Online</p>
            </div>
          </div>
        </div>

        <div class="control-card" style="background-image: linear-gradient(rgba(10, 25, 41, 0.85), rgba(10, 25, 41, 0.85)), url('plex1.jpeg'); background-size: cover; background-position: center;">
          <div class="control-title">
            <span class="control-title-icon">‚ö°</span>
            Quick Actions
          </div>
          <div class="button-group">
            <button class="btn btn-primary" onclick="launchService('plex')">Open Plex</button>
            <button class="btn btn-primary" onclick="launchService('netflix')">Open Netflix</button>
            <button class="btn btn-primary" onclick="launchService('spotify')">Open Spotify</button>
            <button class="btn" onclick="showSection('smarthome')">Smart Home Controls</button>
          </div>
        </div>
      </div>

      <!-- Movies & TV Section -->
      <div id="movies" class="content-section">
        <div class="page-header">
          <h2>Movies & TV</h2>
          <p>Stream your favorite content</p>
        </div>

        <div class="services-grid">
          <div class="service-card" onclick="launchService('plex')">
            <img src="plex film.jpg" alt="Plex Movies & TV" style="width: 100%; height: 140px; object-fit: cover; border-radius: 12px; margin-bottom: 15px;">
            <div class="service-name">Plex Movies & TV</div>
          </div>

          <div class="service-card" onclick="launchService('netflix')">
            <img src="https://cdn.worldvectorlogo.com/logos/netflix-3.svg" alt="Netflix" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div class="service-icon" style="display:none;">üé¨</div>
            <div class="service-name">Netflix</div>
          </div>

          <div class="service-card" onclick="launchService('amazon')">
            <img src="https://cdn.worldvectorlogo.com/logos/amazon-prime-video-1.svg" alt="Amazon Prime" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div class="service-icon" style="display:none;">üéûÔ∏è</div>
            <div class="service-name">Amazon Prime</div>
          </div>

          <div class="service-card" onclick="launchService('youtube')">
            <img src="https://cdn.worldvectorlogo.com/logos/youtube-icon-2.svg" alt="YouTube" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div class="service-icon" style="display:none;">‚ñ∂Ô∏è</div>
            <div class="service-name">YouTube</div>
          </div>

          <div class="service-card" onclick="launchService('livetv')">
            <img src="tvip.jpg" alt="Live TV" style="width: 100%; height: 140px; object-fit: cover; border-radius: 12px; margin-bottom: 15px;">
            <div class="service-name">Live TV</div>
          </div>

          <div class="service-card" onclick="launchService('news')">
            <img src="https://cdn.worldvectorlogo.com/logos/bbc-logo.svg" alt="BBC News" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div class="service-icon" style="display:none;">üì∞</div>
            <div class="service-name">News</div>
          </div>
        </div>
      </div>

      <!-- Music Section -->
      <div id="music" class="content-section">
        <div class="page-header">
          <h2>Music</h2>
          <p>Listen to your favorite tunes</p>
        </div>

        <div class="services-grid">
          <div class="service-card" onclick="launchService('plexamp')">
            <img src="plex music.jpg" alt="Plex Music" style="width: 100%; height: 140px; object-fit: cover; border-radius: 12px; margin-bottom: 15px;">
            <div class="service-name">Plex Music</div>
          </div>

          <div class="service-card" onclick="launchService('spotify')">
            <img src="https://open.spotify.com/favicon.ico" alt="Spotify" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div class="service-icon" style="display:none;">üéß</div>
            <div class="service-name">Spotify</div>
          </div>
        </div>

        <div class="controls-grid">
          <div class="control-card">
            <div class="control-title">
              <span class="control-title-icon">üîä</span>
              Volume Control
            </div>
            <div class="slider-control">
              <button onclick="adjustVolume(-5)">-</button>
              <input type="range" class="slider" id="volumeSlider" min="0" max="100" value="50" oninput="setVolume(this.value)">
              <button onclick="adjustVolume(5)">+</button>
              <span class="slider-value" id="volumeValue">50%</span>
            </div>
          </div>

          <div class="control-card">
            <div class="control-title">
              <span class="control-title-icon">üîà</span>
              Audio Output
            </div>
            <div class="button-group">
              <button class="btn" onclick="switchAudio('hdmi')">HDMI</button>
              <button class="btn" onclick="switchAudio('spdif')">SPDIF</button>
              <button class="btn" onclick="switchAudio('analog')">Analog</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Smart Home Section -->
      <div id="smarthome" class="content-section">
        <div class="page-header">
          <h2>Smart Home</h2>
          <p>Control your connected devices</p>
        </div>

        <div class="services-grid">
          <div class="service-card" onclick="launchService('smarthome')">
            <img src="https://cdn.worldvectorlogo.com/logos/home-assistant.svg" alt="Home Assistant" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div class="service-icon" style="display:none;">üè†</div>
            <div class="service-name">Home Assistant</div>
          </div>
        </div>

        <div class="controls-grid">
          <div class="control-card">
            <div class="control-title">
              <span class="control-title-icon">üí°</span>
              Lighting Control
            </div>
            <div class="slider-control">
              <button onclick="adjustLightBrightness(-10)">-</button>
              <input type="range" class="slider" id="lightSlider" min="0" max="100" value="75" oninput="setLightBrightness(this.value)">
              <button onclick="adjustLightBrightness(10)">+</button>
              <span class="slider-value" id="lightValue">75%</span>
            </div>
          </div>

          <div class="control-card">
            <div class="control-title">
              <span class="control-title-icon">üé®</span>
              Light Scenes
            </div>
            <div class="button-group">
              <button class="btn" onclick="setLightScene('bright')">Bright</button>
              <button class="btn" onclick="setLightScene('dim')">Dim</button>
              <button class="btn" onclick="setLightScene('movie')">Movie</button>
              <button class="btn" onclick="setLightScene('off')">Off</button>
            </div>
          </div>

          <div class="control-card">
            <div class="control-title">
              <span class="control-title-icon">üåà</span>
              Light Colors
            </div>
            <div class="button-group">
              <button class="btn" onclick="setLightColor('white')">White</button>
              <button class="btn" onclick="setLightColor('warm')">Warm</button>
              <button class="btn" onclick="setLightColor('blue')">Blue</button>
              <button class="btn" onclick="setLightColor('red')">Red</button>
              <button class="btn" onclick="setLightColor('green')">Green</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Apps Section -->
      <div id="apps" class="content-section">
        <div class="page-header">
          <h2>Apps & Services</h2>
          <p>Access your favorite applications</p>
        </div>

        <div class="services-grid">
          <div class="service-card" onclick="launchService('telegram')">
            <img src="https://cdn.worldvectorlogo.com/logos/telegram-1.svg" alt="Telegram" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div class="service-icon" style="display:none;">üí¨</div>
            <div class="service-name">Telegram</div>
          </div>

          <div class="service-card" onclick="launchService('calendar')">
            <img src="https://cdn.worldvectorlogo.com/logos/microsoft-outlook-2019.svg" alt="Calendar" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div class="service-icon" style="display:none;">üìÖ</div>
            <div class="service-name">Calendar</div>
          </div>
        </div>
      </div>

      <!-- System Section -->
      <div id="system" class="content-section">
        <div class="page-header">
          <h2>System</h2>
          <p>Manage system settings and power</p>
        </div>

        <div class="controls-grid">
          <div class="control-card">
            <div class="control-title">
              <span class="control-title-icon">‚ö°</span>
              Power Options
            </div>
            <div class="button-group">
              <button class="btn btn-danger" onclick="confirmAction('shutdown', 'Shutdown')">üîå Shutdown</button>
              <button class="btn btn-danger" onclick="confirmAction('restart', 'Restart')">üîÉ Restart</button>
              <button class="btn" onclick="confirmAction('sleep', 'Sleep')">üò¥ Sleep</button>
            </div>
          </div>

          <div class="control-card">
            <div class="control-title">
              <span class="control-title-icon">üîÑ</span>
              System Actions
            </div>
            <div class="button-group">
              <button class="btn" onclick="refreshAudioDevices()">üîä Refresh Audio</button>
              <button class="btn" onclick="checkSystemStatus()">üìä Check Status</button>
              <button class="btn" onclick="openLogs()">üìù View Logs</button>
            </div>
          </div>
        </div>

        <div class="control-card">
          <div class="control-title">
            <span class="control-title-icon">‚ÑπÔ∏è</span>
            System Information
          </div>
          <div class="settings-list">
            <div class="setting-item">
              <div>
                <div class="setting-label">API Endpoint</div>
                <div class="setting-description">http://localhost:8080/api/</div>
              </div>
            </div>
            <div class="setting-item">
              <div>
                <div class="setting-label">Home Assistant</div>
                <div class="setting-description">http://localhost:8123</div>
              </div>
            </div>
            <div class="setting-item">
              <div>
                <div class="setting-label">Dashboard Version</div>
                <div class="setting-description">2.0 - Modern UI</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Settings Section -->
      <div id="settings" class="content-section">
        <div class="page-header">
          <h2>Settings</h2>
          <p>Customize your MediaBox experience</p>
        </div>

        <div class="control-card">
          <div class="control-title">
            <span class="control-title-icon">üé®</span>
            Theme Selection
          </div>
          <div class="theme-selector">
            <div class="theme-option theme-blue active" onclick="changeTheme('blue')" title="Blue"></div>
            <div class="theme-option theme-black" onclick="changeTheme('black')" title="Black"></div>
            <div class="theme-option theme-grey" onclick="changeTheme('grey')" title="Grey"></div>
            <div class="theme-option theme-purple" onclick="changeTheme('purple')" title="Purple"></div>
            <div class="theme-option theme-teal" onclick="changeTheme('teal')" title="Teal"></div>
          </div>
        </div>

        <div class="control-card">
          <div class="control-title">
            <span class="control-title-icon">üîî</span>
            Preferences
          </div>
          <div class="settings-list">
            <div class="setting-item">
              <div>
                <div class="setting-label">Voice Control</div>
                <div class="setting-description">Enable voice commands</div>
              </div>
              <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
            </div>
            <div class="setting-item">
              <div>
                <div class="setting-label">Auto-Launch</div>
                <div class="setting-description">Start services automatically</div>
              </div>
              <div class="toggle-switch" onclick="toggleSetting(this)"></div>
            </div>
            <div class="setting-item">
              <div>
                <div class="setting-label">Notifications</div>
                <div class="setting-description">Show system notifications</div>
              </div>
              <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Section Navigation
    function showSection(sectionId) {
      // Hide all sections
      document.querySelectorAll('.content-section').forEach(section => {
        section.classList.remove('active');
      });

      // Remove active from all nav items
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
      });

      // Show selected section
      document.getElementById(sectionId).classList.add('active');

      // Mark nav item as active
      event.currentTarget.classList.add('active');
    }

    // Service Launcher
    function launchService(service) {
      console.log('Launching service:', service);
      
      const serviceUrls = {
        'plex': 'https://app.plex.tv',
        'netflix': 'https://www.netflix.com',
        'amazon': 'https://www.amazon.com/primevideo',
        'youtube': 'https://www.youtube.com',
        'spotify': 'https://open.spotify.com',
        'plexamp': 'https://plexamp.com',
        'smarthome': 'http://localhost:8123',
        'telegram': 'https://web.telegram.org',
        'calendar': 'https://outlook.live.com/calendar',
        'news': 'https://www.bbc.com/news',
        'livetv': '/api/launch/livetv'
      };

      const url = serviceUrls[service];
      if (url) {
        if (url.startsWith('/api/')) {
          fetch(url).then(r => r.json()).then(data => console.log(data));
        } else {
          window.open(url, '_blank');
        }
      }
    }

    // Volume Control
    function setVolume(value) {
      document.getElementById('volumeValue').textContent = value + '%';
      document.getElementById('homeVolume').textContent = value + '%';
      fetch('/api/volume/set', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({volume: parseInt(value)})
      }).catch(e => console.log('Volume API call failed:', e));
    }

    function adjustVolume(delta) {
      const slider = document.getElementById('volumeSlider');
      const newValue = Math.max(0, Math.min(100, parseInt(slider.value) + delta));
      slider.value = newValue;
      setVolume(newValue);
    }

    // Lighting Control
    function setLightBrightness(value) {
      document.getElementById('lightValue').textContent = value + '%';
      document.getElementById('homeLighting').textContent = value + '%';
      fetch('/api/lights/brightness', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({brightness: parseInt(value)})
      }).catch(e => console.log('Lighting API call failed:', e));
    }

    function adjustLightBrightness(delta) {
      const slider = document.getElementById('lightSlider');
      const newValue = Math.max(0, Math.min(100, parseInt(slider.value) + delta));
      slider.value = newValue;
      setLightBrightness(newValue);
    }

    function setLightScene(scene) {
      console.log('Setting light scene:', scene);
      fetch('/api/lights/scene', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({scene: scene})
      }).catch(e => console.log('Scene API call failed:', e));
    }

    function setLightColor(color) {
      console.log('Setting light color:', color);
      fetch('/api/lights/color', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({color: color})
      }).catch(e => console.log('Color API call failed:', e));
    }

    // Audio Output
    function switchAudio(output) {
      console.log('Switching audio to:', output);
      fetch('/api/audio/switch', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({output: output})
      }).catch(e => console.log('Audio switch failed:', e));
    }

    function refreshAudioDevices() {
      console.log('Refreshing audio devices');
      fetch('/api/audio/refresh')
        .then(r => r.json())
        .then(data => console.log('Audio devices:', data))
        .catch(e => console.log('Refresh failed:', e));
    }

    // System Actions
    function confirmAction(action, label) {
      if (confirm(`Are you sure you want to ${label.toLowerCase()} the system?`)) {
        console.log('System action:', action);
        fetch('/api/system/' + action, {method: 'POST'})
          .then(r => r.json())
          .then(data => console.log(data))
          .catch(e => console.log('System action failed:', e));
      }
    }

    function checkSystemStatus() {
      fetch('/api/health')
        .then(r => r.json())
        .then(data => {
          alert('System Status: ' + JSON.stringify(data, null, 2));
        })
        .catch(e => console.log('Status check failed:', e));
    }

    function openLogs() {
      window.open('/api/logs', '_blank');
    }

    // Theme Management
    function changeTheme(theme) {
      // Remove all theme classes
      document.body.className = '';
      
      // Add new theme
      document.body.classList.add('theme-' + theme);
      
      // Update theme selector
      document.querySelectorAll('.theme-option').forEach(option => {
        option.classList.remove('active');
      });
      event.currentTarget.classList.add('active');

      // Save preference
      localStorage.setItem('mediabox-theme', theme);

      // Update background
      const themes = {
        'blue': 'linear-gradient(135deg, #0a1929, #1a237e, #0d47a1)',
        'black': 'linear-gradient(135deg, #000000, #1a1a1a, #0a0a0a)',
        'grey': 'linear-gradient(135deg, #1c1c1c, #2d2d2d, #3a3a3a)',
        'purple': 'linear-gradient(135deg, #1a0033, #2d1b69, #5a189a)',
        'teal': 'linear-gradient(135deg, #003d3d, #006666, #008b8b)'
      };
      
      document.body.style.background = themes[theme];
    }

    // Toggle Settings
    function toggleSetting(element) {
      element.classList.toggle('active');
    }

    // Load saved theme on startup
    window.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('mediabox-theme') || 'blue';
      const themeElement = document.querySelector(`.theme-option.theme-${savedTheme}`);
      if (themeElement) {
        themeElement.click();
      }
    });

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.altKey) {
        switch(e.key) {
          case '1': showSectionByIndex(0); break;
          case '2': showSectionByIndex(1); break;
          case '3': showSectionByIndex(2); break;
          case '4': showSectionByIndex(3); break;
          case '5': showSectionByIndex(4); break;
          case '6': showSectionByIndex(5); break;
          case '7': showSectionByIndex(6); break;
        }
      }
    });

    function showSectionByIndex(index) {
      const navItems = document.querySelectorAll('.nav-item');
      if (navItems[index]) {
        navItems[index].click();
      }
    }
  </script>
</body>
</html>
